>经过上一章的学习，我们已经能够编写一条合格的sql注入语句，然后我们使用这个注入语句能做什么事情。

## 识别数据库系统
我们首先，需要识别数据库是什么数据库，是mysql、sql server还是Oracle。
### 基于服务
1. 基于web服务器：  
    + 如果是asp、.net通常都是sql server；
    + php应用通常是mysql或者postgreSQL；
    + 如果是java编写，通常是oracle、Mysql数据库
    
2. 基于底层操作系统
    + windows架构，通常是sql server
    + 运行Apache、PHP的linux操作系统，通常是开源数据库（Mysql、PostgreSQL）
    
### 非盲跟踪
    


1. 查看数据库的报错信息；
<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/zekxlk3zex.png" width="600px" />

2. 获取标志信息
<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/1g7z6ntnbmgj.png" width="600px" />

<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/7g51oed0bnd.png" width="600px" />


其中除了包含数据库的系统版本外，还有数据库的精确版本和补丁级别，还包含了安装其上的操作系统的版本信息。
注入@@version：  
为检索数据库版本,可以向name参数注入下列内容
<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/fvb50nu2d57.png" width="400px" />
最终其查询会变成
<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/lr7g91i64c.png" width="400px" />

其他内置变量： 
<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/6pbzi791pi5.png" width="600px" />

<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/h5wwaklltk6.png" width="600px" />


### 盲追踪

1. 从字符串推测数据库版本信息
<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/hsalo7lenxq.png" width="600px" />

2. 使用每个数据库系统特定的函数
<img src="http://wujiashuaitupiancunchu.oss-cn-shanghai.aliyuncs.com/jupyter_notebook_img/i9n4zxqyhom.png" width="600px" />

3. Mysql 特殊方法进行确认
    + 在行尾加上一个#
    + 在行末尾加上个"-- "（值得zhu'y）
